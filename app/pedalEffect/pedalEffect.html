<div
        mouse-capture
        ng-keydown="vm.keyDown($event)"
        ng-keyup="vm.keyUp($event)">

    <h2>
        <a href="#" editable-text="vm.chartViewModel.data.title">{{ vm.chartViewModel.data.title || "empty" }}</a>
    </h2>


    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#" editable-text="vm.chartViewModel.data.title">{{
                    vm.chartViewModel.data.title || "empty" }}</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li><a href="#">Link</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                           aria-expanded="false">Dropdown <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">Action</a></li>
                            <li><a href="#">Another action</a></li>
                            <li><a href="#">Something else here</a></li>
                            <li role="separator" class="divider"></li>
                            <li><a href="#">Separated link</a></li>
                            <li role="separator" class="divider"></li>
                            <li><a href="#">One more separated link</a></li>
                        </ul>
                    </li>
                </ul>
                <form class="navbar-form navbar-left" role="search">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search">
                    </div>
                    <button type="submit" class="btn btn-default">Submit</button>
                </form>
                <div class="btn-group">
                            <button type="submit" class="btn btn-default">Save project</button>
                            <button type="submit" class="btn btn-default">Update project</button>
                </div>
            </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
    </nav>


    <div class="btn-group">


        <button
                class="btn btn-primary"
                ng-click="vm.addNewInputConnector()"
                ng-disabled="vm.chartViewModel.getSelectedNodes().length == 0"
                title="Add a new input connector to the selected node"
        >
            Add Input Connector
        </button>
        <button
                class="btn btn-primary"
                ng-click="vm.addNewOutputConnector()"
                ng-disabled="vm.chartViewModel.getSelectedNodes().length == 0"
                title="Add a new output connector to the selected node"
        >
            Add Output Connector
        </button>
        <button
                class="btn btn-primary"
                ng-click="vm.deleteSelected()"
                ng-disabled="vm.chartViewModel.getSelectedNodes().length == 0 && vm.chartViewModel.getSelectedConnections().length == 0"
                title="Delete selected nodes and connections"
        >
            Delete Selected
        </button>
        <button
                class="btn btn-primary"
                ng-click="vm.startSound()"
                title="Start sound">
            Play sound
        </button>
        <button
                class="btn btn-primary"
                ng-click="vm.stopSound()"
                title="Stop sound">
            Stop sound
        </button>

    </div>
    <div class="btn-group">
        <ol class="nya-bs-select"
            name="repeatSelect" id="repeatSelect"
            title="Select an effect"
            ng-model="vm.data.repeatSelect" ng-change="vm.addNewNode(vm.data.repeatSelect)" data-live-search="true">
            <li nya-bs-option="option in vm.data.availableOptions" data-value="option.id">
                <!-- the text content of anchor element will be used for search -->
                <a>
                    {{option.name}}
                </a>
            </li>
        </ol>
        <ol class="nya-bs-select"
            name="repeatSelect" id="repeatSelect"
            title="Select a project"
            ng-model="vm.data.repeatSelect" ng-change="vm.addNewProjectChartViewModel(vm.data.repeatSelect)"
            data-live-search="true">
            <li nya-bs-option="option in vm.projectList" data-value="option._id">
                <!-- the text content of anchor element will be used for search -->
                <a>
                    {{option.title}}
                </a>
            </li>
        </ol>
    </div>


    <div class="btn-group">
        <button
                class="btn btn-primary"
                ng-click="vm.saveProject()"
                title="Save Project"
        >
            Save project
        </button>
        <button
                class="btn btn-primary"
                ng-click="vm.updateProject()"
                title="Update Project"
        >
            Update project
        </button>
    </div>

    <div class="col-lg-6">
        <div class="input-group">
            <input type="text" class="form-control" placeholder="Donnes ton avis ..." ng-model="vm.comment">
      <span class="input-group-btn">
        <button class="btn btn-default" type="button" ng-click="vm.addComment()">Commenter</button>
      </span>
        </div><!-- /input-group -->
    </div><!-- /.col-lg-6 -->

    <h2>{{vm.chartViewModel.getSelectedNodes()[0].data.name}}</h2>
    <div class="box off" style=" width: 300px; height:auto;"
         ng-hide="vm.chartViewModel.getSelectedNodes().length == 0 &&
          vm.chartViewModel.getSelectedConnections().length == 0" ng-animate="'box'">
        <div>
            <div ng-repeat="parameter in vm.chartViewModel.getSelectedNodes()[0].data.parameters">
                <label>{{parameter.name}}</label>
                <rzslider rz-slider-model="parameter.value" rz-slider-options="parameter.options"></rzslider>
            </div>
        </div>
    </div>

    <figure class="highlight">
        <!--
        This custom element defines the flowchart.
        -->
        <flow-chart
                class="jumbotron"
                chart="vm.chartViewModel">
        </flow-chart>
    </figure>

</div>
